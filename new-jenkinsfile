pipeline {
    agent any

    stages {
        stage('SCM checkout or cloning the project') {
            steps {
                echo 'you need the specify the github repo'
            }
        }
        stage('build the code') {
            steps {
                echo 'mvn clean test package -> it will create the artifact app.jar or war'
            }
        }
        stage('deploying artifact into nexus or jfrog ') {
            steps {
                echo 'deploying the app.ja into nexus server'
            }
        }
        stage('docker login ') {
            steps {
                echo 'credential of server to loginto docker  '
            }
        }
        stage('docker build ') {
            steps {
                echo 'docker build -t manjunathachar/healthcare:v1 .'
            }
        }
        stage('dockerhub login') {
            steps {
                echo 'logging into the dockerhub to store the docker image e.i manjunathachar/healthcare:v1'
            }
        }
        stage('dockerhub push') {
            steps {
                echo 'docker push  manjunathachar/healthcare:v1 -> to push the image to dockerhub'
            }
        }
        stage('deploying into k8s cluster') {
            steps {
                echo 'kubectl apply -f deployment.yaml -> to deploy the containersed app or pod into the cluster'
            }
        }
    }
}
